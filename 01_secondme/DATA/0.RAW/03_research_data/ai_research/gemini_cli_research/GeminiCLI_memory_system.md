# GeminiCLI - メモリー機能の詳細

## GeminiCLIの2種類の「記憶」について

GeminiCLIが利用できる記憶には、大きく分けて「長期記憶」と「短期記憶」の2種類がある。

### 1. 長期記憶 (Long-Term Memory) - save_memory ツール

**目的**: セッションをまたいで永続的に覚えておくべき、普遍的な情報を記録

**特徴**:
- 短く具体的な事実を保存するための機能
- 一度覚えたら、AIが再起動しても忘れない
- 短い事実（fact）を記憶するのに特化している

**使い方**: `save_memory(fact="...")` というツールを使用

**例**: 
- 「僕の好きなプログラミング言語はPythonだ」
- 「このプロジェクトのドキュメントは常に英語で書いて」

**制限**: 
- 長文のドキュメントや複数のファイルをまとめて「インポート」するのには向いていない
- たくさんの本を丸ごと1つの単語として覚えようとするようなもの

### 2. 短期記憶 (Short-Term Memory) - 対話コンテキスト

**目的**: 現在のタスクを遂行するために必要な情報を一時的に保持

**特徴**:
- 現在の対話（セッション）の中でのみ有効な、一時的な作業メモリ
- 大量の情報を一度に読み込み、内容を深く理解して対話に活かすことができる
- 対話セッションが終了したり、リセットされたりすると、この記憶は失われる

**使い方**: `read_file` や `read_many_files` でファイルを読み込むと、その内容がこの短期記憶にロード

**適用例**: ペルソナを再現させたい場合は、セッションの開始時に都度読み込ませる必要がある

## ChatGPTとの記憶の違い

| 比較項目 | GeminiCLI | ChatGPT (GPT-4など) |
|:---|:---|:---|
| 記憶の仕組み | 能動的・ファイルベース<br>AI自身がツール(read_file)を使って、ローカルファイルを「読みに行く」。記憶はセッションごとに構築される。 | 受動的・対話ベース<br>ユーザーとの対話履歴や、事前にアップロードされた知識ファイル（GPTs）を記憶のベースにする。ローカルファイルは直接読めない。 |
| 環境 | ユーザーのローカルPC上<br>ユーザーのPC環境と一体化している。 | OpenAIのクラウド上<br>サンドボックス化された環境で動作する。 |
| 情報の鮮度 | 常に最新<br>ファイルを1文字修正すれば、次の瞬間にその最新版を読み込める。 | 静的<br>対話履歴に依存するか、ユーザーがファイルを再アップロードするまで情報は更新されない。 |
| ワークフロー | プロアクティブ（能動的）<br>「この機能について知りたいから、関連ファイルを検索して読んでみよう」と、AI自身が能動的に情報を取得しにいくことができる。 | リアクティブ（受動的）<br>ユーザーから与えられた情報や質問に対して応答する。自ら外部（ローカル環境）に情報を探しに行くことはない。 |

## 記憶の比喩

### GeminiCLI: 「作業机と本棚」
- **短期記憶（広大な作業机）**: 対話コンテキスト。数万文字のファイルを一度に広げて読めるスペース
- **長期記憶（厳選された本棚）**: 大事な「事実」を書いた付箋を数枚〜数十枚貼っておくイメージ

### ChatGPT: 「完璧な記憶力を持つ対話相手」
- 非常に博識で記憶力抜群の「相談役」
- 会議室に同席してもらい、持参した資料について尋ねれば、驚くほど深い洞察を返してくれる
- 自ら会議室を出て、キャビネットから新しい資料を取ってくることはない

## まとめ

**ChatGPT**: 会議室の相談役  
**GeminiCLI**: 隣の席に座っている「開発パートナー」や「アシスタント」

GeminiCLIは「ちょっと待って、最新の仕様書ファイルを見てみるね」と言って、プロジェクトフォルダから自分でファイルを開いて確認し、その上で応答できる。 