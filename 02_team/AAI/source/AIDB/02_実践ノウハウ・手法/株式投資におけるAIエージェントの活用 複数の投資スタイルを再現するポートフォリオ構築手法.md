---
title: "株式投資におけるAIエージェントの活用 複数の投資スタイルを再現するポートフォリオ構築手法"
source: "https://ai-data-base.com/archives/90061"
author:
  - "[[AIDB Research]]"
published: 2025-05-27
created: 2025-06-13
description: "本記事では、意思決定支援の一分野として注目されるAIエージェントの応用事例を紹介します。取り上げるのは、株式投資において複数の投資スタイルを模倣し、判断を集約する仕組みです。"
tags:
  - "clippings"
---
**【お知らせ】** AIDB主催のビジネスマッチングイベントを7月25日(金)開催予定です！  
  

\---以下、記事本文---

本記事では、意思決定支援の一分野として注目されるAIエージェントの応用事例を紹介します。

取り上げるのは、株式投資において複数の投資スタイルを模倣し、判断を集約する仕組みです。現実の市場データを用いた検証を通じて、複数の視点を扱う設計の特徴とその動きが見えてきています。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061-1024x576.png)

## 背景

株式投資において、「何を買うか」「いつ売るか」といった判断は、常に簡単ではありません。市場の動きは複雑で、人間の直感や経験だけでは捉えきれない要素も多く存在します。多くの投資家は自分なりのスタイルや指標を持ち、日々変化する情報に向き合いながら意思決定を繰り返しています。

こうした投資の現場に、AIはどう役立てられるでしょうか。

過去には、データから株価の変動を予測するモデルや、決まった手順に沿って投資判断を下す自動売買システムが作られてきました。しかし、それらは往々にして市場の複雑な変化に柔軟に対応できず、特定の状況にしか通用しないという課題を抱えています。

そこで今回研究者らは、「多数の仮想投資家をつくり、それぞれ異なるスタイルで投資判断を行わせる」という新しい発想を試みています。

個々の判断を観察し、全体としての傾向やずれを分析することで、より的確なポートフォリオ構築を目指すというものです。

LLMを活用して投資家の思考プロセスを模倣し、それを多数並列に走らせることで意思決定を繰り返させます。その結果を全体として集約し、投資判断につなげようという狙いです。

注目されるのは、「エージェントの数が増えるほど、判断の質が高まるのではないか」という仮説です。512体もの仮想投資家が使われており、これは実際の企業組織に匹敵する規模です。

なお、このようにAIを単なる予測の道具ではなく、複数の思考を束ねて意思決定に活かすためのフレームとしてとらえる動きは、投資分野に限らず多様な応用可能性を秘めています。

LLMを使って業務に新しい視点を取り入れたいと考える方々にとっても、今回の研究は示唆に富むものといえます。

さて、研究者らの発想がどのように実装され、どんな結果をもたらしたのか。詳しく見ていきます。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_1.png)

投資スタイルの異なるエージェントを増やすことで、市場の見通しがより洗練され、リターンの精度も向上していく様子（実験結果の一部を先に紹介）

## 前提を見ていく

今回取り上げる手法は、投資分析、LLMを活用したマルチエージェント技術、そしてスケーリング則という3つの領域に関係しています。それぞれがどんな背景を持ち、どうつながっているのかを順に見ていきます。

### 投資分析ではどんなアプローチが使われてきたか

これまでの投資分析では、主に株価の変動予測が重視されてきました。大きく分けて、時系列に基づく分析、機械学習によるパターン抽出、そして最近登場したLLMベースの分析エージェントという3つの流れがあります。

時系列分析や機械学習は、過去の価格や指標をもとに将来を見通す方法です。いずれも一定の効果がある一方で、データの複雑さや市場の変化の激しさには対応しきれない場面が少なくありません。 [強化学習](https://ai-data-base.com/archives/26125 "強化学習") のような高度な手法も提案されていますが、学習の難しさや予測の解釈の難解さが課題となってきました。

一方、LLMを使って金融文脈を読み解かせるという試みが注目されるようになっています。特定のワークフローに沿って株価の上下を予測するものが多く、構造としては比較的わかりやすいものの、柔軟な調整や一貫した最適化が難しいという側面があります。

実は、今回の取り組みでは、こうした流れとは異なる方向性がとられています。目的は個別銘柄の予測ではなく、より高いリターンを目指すポートフォリオの構築にあります。

### マルチエージェントの技術はどう活かされているか

LLMに複数の役割や視点を持たせて、それぞれをエージェントとして動かすという発想は、ここ最近注目が高まっています。大きくは、シミュレーション型とアプリケーション型の2つに分けられます。

シミュレーション型では、仮想の社会や経済、心理的な現象を多数のエージェントで再現し、行動パターンや構造の理解を深めることが目的となります。アプリケーション型では、ソフトウェア開発や文書整理、情報収集といったタスクの遂行を目指して活用されます。

今回の方法は、シミュレーションの要素を持ちながらも、実際の投資判断という現実的な課題に接続されています。エージェントの動き方や役割分担を細かく定義するのではなく、市場データにもとづいて自然に分布させる仕組みが使われています。

### エージェントの数を増やすと何が起きるのか

モデルのサイズやデータ量を増やしたときに性能がどう変化するか。いわゆる「スケーリング則」は、LLM研究でも広く関心を集めているテーマです。同じ発想が、マルチエージェントの構成にも持ち込まれています。

これまでの他の研究では、64体程度のエージェントを使って協力構造を検証する例がありましたが、今回の実験ではその8倍にあたる512体のエージェントが同時に使われています。

## 問題の定義

まずは、企業の特徴やマクロ経済の情報をもとに、毎日どの銘柄に投資するかを決めていきます。目的は、一定期間のあいだに高いリターンが得られるようなポートフォリオを組むことです。

### 入力データとして使うもの

まず、企業ごとの特徴データを使います。  
たとえば、成長性や財務の安定性、収益性など、異なる観点からの数値情報をまとめます。

複数の「側面（モダリティ）」に分けて整理すると、取り扱いやすくなります。これらは、各企業について、複数の取引日にわたるデータを並べた形になります。

次に、金利やインフレ率、景気のセンチメント指数などのマクロ経済データを取り入れます。これは市場全体の動きをつかむための背景情報として活用します。

### ポートフォリオの出力

投資家は多くの銘柄の中から、いくつかを選んで投資ポートフォリオをつくります。選び方は毎日変わります。たとえば、「今日はこれとこれを買っておこう」と判断した、その判断そのものが出力になります。

どの銘柄を選べばよかったかは、あとになってからしかわかりません。たとえば、翌営業日の朝にその銘柄を買って、数日間保有していたとしたら、どれくらい利益が出ていたか。そうした「もしも」のリターンをあとから計算し、それと照らし合わせて、自分の判断がどれだけ良かったかを確認していきます。

ここで工夫が必要になるのが、「どういうルールで選んだらうまくいくのか」という部分です。ただの経験や勘ではなく、データから見てもっとも合理的に判断できるよう、選び方そのものを調整していきます。

要するに、次のようなことを考えます。

- 企業の情報（売上や利益など）と、マクロ経済の情報（金利や景気動向など）をもとに
- どんなルールで銘柄を選べば
- 数日後にできるだけ高いリターンが得られたか

この「選び方のルール」は、ひとつの式や関数で表せます。

まず最適化の対象は、ポートフォリオの構成方法を決めるパラメータです。構成のしかたをθという変数で表し、リターンが最大になるようθを調整していきます。

最終的な目標は、「企業データX」と「マクロ経済データM」に基づいて、できるだけ良い投資判断（ポートフォリオ）を出力することです。それが「実際のリターンY」とどれくらい一致しているかを評価軸にします。

以下のような数式で関係を整理できます。

θ\* = arg max E\[R(P(θ; X, M), Yₖ)\]

ここで、

- θは調整する判断ルールの集合です。
- XとMはそれぞれ企業データとマクロ経済データです。
- Yₖは実際に得られたリターンです。
- P(θ; X, M)は、その日そのときの判断に基づくポートフォリオです。
- Rはリターンを測る関数です。
- E\[・\]は、仮想的な市場環境での期待値を示します。

複雑に感じられるかもしれませんが、要点はひとつです。過去の市場データをもとにして、「もしもこの銘柄を買っていたらどうなっていたか？」を何度もシミュレーションしながら、ルール（判断のしかた）を調整していくという考え方です。

調整の対象になるのが、「どの情報を重視するか」「どんな状況なら買うべきと判断するか」といった投資判断の基準です。これをパラメータと呼びます。  
最終的には、「このルールで判断した結果と、実際に上がった銘柄がどれくらい一致していたか」を見ながら、ルールの良し悪しを評価します。

数式では、こうした一連の考え方を一行でまとめていますが、読まなくても大丈夫です。ここで伝えたいのは、「多くの過去データを使って、自分の投資判断のルールを少しずつよくしていく」ことが目的だということです。

### 評価と最適化の視点を持つ

投資判断を考えるときには、単に「上がりそうな銘柄を当てる」という発想にとどまらず、「市場の全体像や他の投資スタイルとの関係性も踏まえて、自分の判断がどう機能するか」を見ていく視点が必要です。

そのため、ポートフォリオの構成と評価は、シミュレーション環境の中で行います。市場環境を模した枠組みの中で、どのような判断が高い成果を出すのかを探っていきます。

## 手法の流れをつかむ

以下では、実際にどのように投資判断を行い、ポートフォリオを組み立てていくのかを整理します。

市場にはさまざまな視点をもつ投資家が存在すると考え、それぞれの判断を仮想エージェントで再現していきます。エージェントごとに違う情報を見て、違うルールで判断するように設計します。そして、彼らの判断をまとめて、全体としてのポートフォリオをつくっていきます。

### 投資判断を構成する

#### 複数の投資スタイルをもつ仮想投資家を用意する

はじめに、いくつかの異なる投資スタイルを用意し、それぞれに仮想投資家（エージェント）を複数割り当てます。たとえば、「収益性」を重視するスタイル、「成長性」や「安定性」に注目するスタイルなど。

各エージェントは、自分のスタイルに合った [特徴量](https://ai-data-base.com/archives/26406 "特徴量") だけを参照し、一定数の銘柄にだけ目を向けます。実際の投資家が、自分の関心分野に基づいて一部の銘柄だけを見るといった状況のように。

#### それぞれのエージェントが銘柄を選ぶ

エージェントは、自分の担当する企業データと、その日のマクロ経済情報をもとに、「今日はこのような方針でいこう」といった投資方針を決めます。

たとえば、「金利が上がっているので資産性の高い企業を重視する」といった判断です。この方針にもとづき、自分の監視銘柄の中から「買うべき」と判断したものを選び出します。

このプロセスを、全エージェントが同時に行います。

#### 判断をまとめて投資シグナルに変える

すべてのエージェントが選んだ銘柄の情報を集めて、どの銘柄に投資すべきかを判断する「投資シグナル」をつくります。

ここで使うのが「市場不一致（マーケット・ディスアグリーメント）」という考え方です。これは「投資家の意見が割れている銘柄ほどリスクがあり、将来的なリターンも読みづらい」という前提に基づいています。

たとえば、ある銘柄を10人のうち8人が選んでいるとすれば、意見はまとまっています。一方、5人が選び、5人は無視しているとすれば、判断が割れているということになります。

この「意見のまとまり具合」をスコア化して、次のようなルールで1つの指標にします。

**Signal = コンセンサス（意見の平均） − 不一致（意見のばらつき）**

これはエージェントの選択頻度の加重平均と標準偏差を使って計算します。計算式は以下の通りです。

ms(j) = 加重平均  
σs(j) = 加重標準偏差  
Signal(s,j) = αms(j) − (1−α)σs(j)

ここでαは、どれくらい「意見のまとまり」を重視するかを調整するパラメータです。

要するに、みんなが選んでいて、なおかつ判断がぶれていない銘柄ほど、信頼できる候補としてスコアが高くなるという仕組みです。

### 投資スタイルの構成を調整する

#### どのスタイルにどれだけ重みを割くかを調整する

市場の状況は毎日変わります。そのため、「どの投資スタイルを重視すべきか」というバランスも日々調整する必要があります。

ここで行うのは、過去の判断とその後の実際のリターンを照らし合わせて、「どのスタイルがどれだけ役立っていたか」を振り返ることです。うまくいっていたスタイルの比率を少し上げ、逆にあまり成果の出なかったスタイルは比率を下げます。

この比率の集合を「エージェント分布」と呼び、日々更新していきます。

#### 評価のしかたと最適化の考え方

評価では、過去の数日間における「投資シグナル」と「実際のリターン」との関係を見て、「どの分布（＝どのスタイル構成）なら説明力が高かったか」を探ります。

この関係を「類似度スコアS」として計算し、そのスコアが最大になるように分布を調整します。これが後方最適化の考え方です。

数式では以下のように表されます。

**max S(sj,yj)**  
（投資シグナルsjと実際のリターンyjとの類似度を最大化）

この更新を毎日くり返すことで、日々の市場の変化に応じたスタイル構成が得られます。

#### 最後にポートフォリオを構成する

調整されたスタイル構成を使って、その日のエージェント分布を決めたあと、あらためて投資シグナルを計算します。そして、スコアの高い順に上位k銘柄を選び、ポートフォリオを構成します。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_7.png)

エージェントの判断からポートフォリオ構築までの一連の流れ

## 評価で見えてきたこと

以下では、提案された仕組みが実際の市場でどの程度機能するかを確認した実験について紹介します。

### どのような条件で試されたのか

まず、評価のルールやデータ、比較対象がどのように設定されたかを整理します。

#### 判断の良し悪しをどう測ったか

投資判断がうまくいったかどうかを見るために、4つの指標が使われました。

- 予測と実績の値がどれくらい近いかを表すIC
- ICの数値がどれくらい安定して出るかを見るICIR
- 予測した順位と実際の順位の一致度を見るRIC
- RICの安定性を見るRICIR

単に「当たったかどうか」ではなく、「その精度がどれくらい続くか」も重視されています。

#### 使用されたデータと比較対象の手法

テストに使われたのは、2023〜2024年の中国A株市場の実データです。株価や出来高だけでなく、企業の財務情報、ニュース、金利や物価指数なども組み込まれています。

比較対象としては、従来の機械学習やディープラーニング手法、他のエージェント型の仕組みなどが用意されました。

### 実験から得られた知見

#### 当たる力と安定性のバランスが取れている

すべての評価指標で最も良い結果を示しており、精度の高さとブレにくさが両立されていました。

他の手法の中には、エージェントに過去の失敗を反省させるような設計もありましたが、扱う情報量が増えると処理が難しくなり、判断精度が落ちる傾向が見られました。今回の仕組みは情報を分散処理するため、そうした崩れが起こりにくい構造になっています。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_2-1024x374.png)

複数の株式グループに対して、提案された仕組みが他の手法より一貫して高い評価指標を示している

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_3.png)

過去の市場データを使った取引シミュレーションの結果を、既存の手法やベンチマーク指数と比較

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_4.png)

スコア集約の重みや参照期間といった設定値を変えても、大きく性能が崩れないことを示す

#### 過去に学習していないデータにも強い

「過去の情報に合っていただけではないか」という疑問に答えるため、2025年第1四半期の新しい市場データでも検証が行われました。従来の銘柄とは異なる株式や、新しい株式プールを対象にしても、同様に高い精度が出ていました。

未知の環境でも通用する柔軟性が確認されています。

#### 実際の運用を想定したテストでも好成績

取引のシミュレーション（バックテスト）では、平均的な市場指数よりも高い収益を出しながら、損失の振れ幅（ドローダウン）も抑えられていました。

これは「儲かるかどうか」だけでなく、「リスクにどう対応できるか」においても優れていたことを意味します。

#### 視点の数を増やすと性能も伸びた

エージェントの数を増やしていったときの変化も観察されました。512体まで増やしても予測性能は伸び続けており、視点の多様性が判断の質を高める方向に働いていました。

ただしどこまで伸び続けるかは今後の検証が必要です。

#### 各工夫がそれぞれ効果を持っている

今回の仕組みには次の3つの要素が組み込まれています。

- 各エージェントが見られる銘柄を絞って処理負荷を下げる
- 経済状況を取り入れてより柔軟な判断ができるようにする
- 過去の結果をふまえてスタイル構成を調整できるようにする

これらを一つずつ取り除いて実験したところ、精度が下がることが確認され、どれも欠かせない構成要素であることがわかりました。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_5-1024x177.png)

構成要素を一つずつ外した場合に精度が落ちることを確認し、それぞれの要素が全体の効果にとって重要であることを示している

#### 市場が変化したときにも対応できた

2023年の市場では大きな転換点が2回（2月と8月）ありましたが、そのどちらでも構成を調整しながら対応できていました。

判断の精度が崩れることなく、安定的に高いリターンが維持されており、変化に対する適応力があることが示されています。

#### 設定を少し変えても崩れない

最後に、設定値の変更にどれくらい敏感かも確認されました。

対象は以下の2つです。

- 意見の一致度をどれくらい重視するかを決める重み（α）
- 過去どれくらいの期間を参考にするかを決めるウィンドウの長さ（ωopt）

どちらの値を少しずつ変えても、大きな性能の崩れは見られず、一定の柔軟性があることが確認されています。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_90061_6-1024x438.png)

市場の状況が大きく変化したタイミングでも、エージェントの構成を調整しながら安定した成果を維持している様子

### 注意しておきたいこと

ここまで紹介してきた内容を見ると、万能な仕組みに見えるかもしれません。ただ、実際に使おうとする場面では、いくつか留意しておくべき点もあります。

- すべての結果は中国A株市場を対象にしたものであり、他国の市場や異なる時期でも同様にうまくいくとは限らない
- 現時点で用いられている評価指標はリターン予測の精度や安定性に関するものであり、実際の取引コストや市場への影響（インパクト）は評価に含まれていない
- 512体のエージェントを使ったという点は注目に値するが、これがそのまま実務で再現できるとは限らない。とくに計算資源や運用コストをどのように確保するかは要検討
- 利用されたエージェントの基盤モデルは非常に大規模であり、将来的に公開モデルや軽量モデルでどこまで同等の性能が再現できるかは未知数
- 市場変化への適応力は示されているが、それでも「事前には予測できなかった不連続な変化」には対応しきれないリスクが常にある
- αやωoptなどのパラメータに対する感度は高くないとされているが、実際に別の市場や別のユースケースで使う場合には、チューニングが必要になる可能性がある

過度に楽観的になることなく、こうした点も念頭に置いたうえで、導入や応用を検討していくことが大切です。

## まとめ

本記事では、複数の仮想投資家の判断を組み合わせて投資判断を導く仕組みを紹介しました。

比較実験やシミュレーションでは、一定の安定性と柔軟性が確認されています。

ただし、適用先の市場や運用環境によって結果が異なる可能性には十分留意が必要です。AIを投資に利用する際は必ず自己責任で行い、利用規約によっては禁止されている場合もあります。投資判断のすべてをAIに委ねるのではなく、業務や検討の補助としてどう活かすかを考える参考になれば幸いです。

なお、本記事は成果を保証するものではなく、研究動向を紹介し参考にしていただくものであることをご留意ください。

**参照文献情報**

- タイトル：MASS: Multi-Agent Simulation Scaling for Portfolio Construction
- URL： [https://doi.org/10.48550/arXiv.2505.10278](https://doi.org/10.48550/arXiv.2505.10278)
- GitHub： [https://github.com/gta0804/MASS](https://github.com/gta0804/MASS)
- 著者：Taian Guo, Haiyang Shen, Jinsheng Huang, Zhengyang Mao, Junyu Luo, Zhuoru Chen, Xuhui Liu, Bingyu Xia, Luchen Liu, Yun Ma, Ming Zhang
- 所属：Peking University, Zhengren Quant

**■サポートのお願い  
**AIDBを便利だと思っていただけた方に、任意の金額でサポートしていただけますと幸いです。  

  

[AIエージェントはどこまで使えるか　業務に取り入れる前に知っておきたい進化と現在地](https://ai-data-base.com/archives/89982)

[言語学の観点から導くプロンプト構造の分類フレームワーク　LLMの性能に与える影響の定量評価](https://ai-data-base.com/archives/90134)

 [![](https://ai-data-base.com/wp-content/themes/innovate_hack_tcd025/img/footer/return_top.png) PAGE TOP](https://ai-data-base.com/archives/#header_top)