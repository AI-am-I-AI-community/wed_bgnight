---
title: "LLM活用アプリ開発事例 ユーザーの目標達成を支援する習慣化システムの作り方"
source: "https://ai-data-base.com/archives/89474"
author:
  - "[[AIDB Research]]"
published: 2025-05-14
created: 2025-06-13
description: "本記事では、LLMを活用してユーザーの目標達成を支援する習慣化システムを構築した研究事例を紹介します。行動提案の仕組みや、データ収集・検索・検証の設計など、実装の具体的な工夫がまとめられています。"
tags:
  - "clippings"
---
**【お知らせ】** AIDB主催のビジネスマッチングイベントを7月25日(金)開催予定です！  
  

\---以下、記事本文---

本記事では、LLMを活用してユーザーの目標達成を支援する習慣化システムを構築した研究事例を紹介します。行動提案の仕組みや、データ収集・検索・検証の設計など、実装の具体的な工夫がまとめられています。

LLMを使ったアプリケーション開発に関心のある方にとって、構成や評価の考え方を学ぶ手がかりになる内容です。習慣形成という身近なテーマを扱っているため、応用のイメージも持ちやすいです。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_89474-1024x576.png)

## 背景

LLMを使ったアプリケーションを作るとき、多くの人が「何をできるようにするか」には注目しますが、「どうすればユーザーが実際に行動を続けてくれるか」という視点は見落とされがちです。

たとえば、新しい習慣を身につけるために役立つツールを制作する場合を考えてみます。

ユーザーに対しては、ただ目標を示すだけでなく、毎日の行動に落とし込み、続けやすい形にする工夫が必要です。多くの人が「運動を続けたい」「英語を話せるようになりたい」といった長期的な目標を持っていますが、それを日々の具体的な行動に変えるのは簡単ではありません。目標設定の方法として有名なSMARTフレームワーク（具体的、測定可能、達成可能、関連性がある、期限が明確）には一定の効果がありますが、これをうまく設計するのは手間がかかります。

こうした課題を踏まえ、研究チームは「目標を30日間のチャレンジに分解し、日々の行動として提示する」アプリの開発に取り組みました。ユーザー自身が設定した目標を起点に、繰り返しやすく実行しやすいタスクを提案し、それを続けられるように支援する仕組みになっており、LLMがその中核を担います。

以下で詳しく紹介します。LLM活用アプリケーションを作ってみたい人にとって、あるいは習慣づくりアプリを制作したい方にとって参考になるケーススタディとして機能する記事になることを目指します。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_89474_1-1024x363.png)

今回開発されたアプリのハイライト。

## これまでの関連事例

LLMを使ったアプリづくりを考えるとき、すでに行われている工夫を知っておくとヒントになります。

今回は習慣づくりアプリのケーススタディのため、教育や行動支援の分野で関係の深い事例を紹介します。

### 教育の分野ではどう使われているか

教育分野では、LLMを使って学びをサポートする取り組みが増えています。たとえば、生活習慣の改善を目指すコーチングにLLMを使う研究では、「行動は能力・動機・環境の3つがそろったときに生まれる」という行動科学の考え方（COM-Bモデル）が取り入れられています。共感を示すような言い回しを選ぶための工夫や、効果的なプロンプトを組み立てるための仕掛けもあります。

また、チューターのように対話を通じて学習を支援する仕組みにもLLMが使われています。こうしたシステムはユーザーと対話しながら理解を深めていくのに対し、今回紹介する仕組みは、目標に合った行動プランを提案・整理するという点に特徴があります。

### ネット上の情報をうまく使う工夫

ウェブから情報を集めて使いやすく整理することも重要な要素です。

LLMは、こうした作業を大きく変える可能性があります。たとえば今回の研究では、「こうなりたい」という願望と、「それに向けてやること」をウェブから抽出し、30日チャレンジという形に整理しています。明確なルールで定義できないような情報でも、LLMがうまく取り出してくれるのが特徴です。

### バラバラな情報をひとつにまとめる

いろいろなサイトから集めた情報は、同じように見えても書き方や言葉が違っていたりします。たとえば「読書習慣」と「毎日10分読む」は、言葉は違っていても似たような行動を指しているかもしれません。こうした違いを見つけて、同じものとして整理するのが「エンティティの統合」と呼ばれる処理です。LLMを使うと、意味が近いもの同士を見つけることができます。今回の研究でも、まずAIがざっくりと似ているものを見つけ、そのあとでLLMが判断を助けるという二段階の仕組みを使っています。

## システムのしくみ

LLMを活用したアプリケーションを設計する際、どんな機能を持たせるかと同じくらい大切なのが、「ユーザーにどう行動してもらうか」を考える視点です。以下では、習慣化を支援するアプリをつくる場合、設計上の具体的な工夫やシステム構成をどう考えればよいかを整理していきます。

### 目標を「毎日やること」に変換する

長期的な願望があっても、それを日々の行動に変えるのは簡単ではありません。そのため、ユーザーの目標を「毎日取り組めるかたち」に分解して提示するという考え方が出発点になります。

今回の研究では、ひとつの枠組みとして「30日チャレンジ」を活用しています。たとえば、「集中力を高めたい」という願望に対して、「毎朝10分間、タスクを紙に書き出す」といった小さな行動をセットにして提案するイメージです。

30日という期間に特別な意味があるわけではありませんが、取り組みやすく、やり切った感覚を得られる長さとしてはちょうどよい区切りです。目的はあくまで、目標を明確な行動に落とし込み、それを続けてもらうこと。そのための期間設定や行動の粒度は、ユーザー層やコンテキストに応じて柔軟に考えてよい部分です。

### システムは2つのフェーズで構成する

こうした設計を形にするには、「行動アイデアを蓄積する準備フェーズ」と「ユーザーに最適な提案を返す検索フェーズ」の2段構えで考えると整理しやすくなります。

### フェーズ1：行動アイデアを集めて整理する

まずは、ユーザーに提案できる行動アイデアを集めるところから始めます。参考になるのが、ウェブ上で公開されている「30日チャレンジ」などの情報です。そこにはすでに、多くの人が実践している小さな行動のヒントが含まれています。

このフェーズでは、次のような処理を組み立てます。

1. チャレンジに関するウェブページを自動で収集する
2. そこから具体的な行動の記述を抜き出し、形式を整える
3. 重複している内容や、意味の似たアイデアを整理・統合する
4. すべてのチャレンジを意味ベクトルに変換し、検索可能なかたちで保存する

こうして整理されたチャレンジの [コーパス](https://ai-data-base.com/archives/26324 "コーパス") （ChallengeDB）が、あとでユーザーに何を提案するかの母体になります。  
どんなジャンルの行動を集めるか、粒度はどれくらいにするかなども、この段階で設計の工夫が求められるポイントです。

### フェーズ2：ユーザーの目標に合った提案を返す

次に、ユーザーが「こうなりたい」と入力したときに、それに合った行動提案を返す処理を設計します。

この検索フェーズでは、以下のような構成が基本になります。

- ユーザーの入力を意味ベクトルに変換する（文そのものではなく、意味の近さで比較する）
- ChallengeDBの中から、意味的に近い行動案を検索する
- 複数の候補から、もっとも関連性が高いものを上位に並べて返す

ここで重要なのは、単純なキーワード一致ではなく、「意味的な近さ」で検索するという点です。たとえば「もっと落ち着いた毎日を過ごしたい」と書いても、「5分間の瞑想」や「朝の深呼吸」などが自然に出てくる仕組みが求められます。

この柔軟な対応にはLLMや意味ベースのベクトル検索が向いており、ユーザーの表現の多様さに耐えられる提案システムを構築できます。

こうした2つのフェーズを組み合わせれば、「目標を日々の行動に変換し、それをユーザーごとに柔軟に提案する」という仕組みを実現できます。必要に応じて期間や行動の粒度を変えることで、自分のユースケースにも展開していけそうですね。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_89474_2-1024x419.png)

システムの構造を抽象化した図

## アイデアの収集と整理（オフラインでの処理）

ユーザーにふさわしい行動を提案するには、まずその土台となるチャレンジのデータを用意する必要があります。以下では、ウェブ上から行動のアイデアを収集し、使える形に整理するまでの流れを紹介します。

### 行動アイデアの見つけ方

はじめに取り組むのは、チャレンジの元ネタをウェブ上から集める作業です。いきなり手作業で探し始めるのではなく、検索クエリの設計から工夫することで、収集の精度と効率を上げることができます。

この工程では、次のようなステップを組みます。

1. LLMに依頼して、効果的な検索クエリを多数生成する
2. クエリごとに検索エンジン（SERP API）を通じてページを自動取得する
3. 得られたページに対して、LLMを使って「行動のアイデアが含まれているか」を評価し、有用なページだけを残す

収集対象を選別する段階からLLMを活用することで、無関係なページを人手で確認する手間を大きく減らすことができます。  
ここで使われているスコアリングのような簡易フィルターは、規模が大きくなるほど効果を発揮する仕掛けです。

### 行動データを整える

候補となるページが揃ったら、次は中身のテキストを取り出し、ユーザーに提案できるかたちに整える作業です。

この工程もすべて [ルールベース](https://ai-data-base.com/archives/26614 "ルールベース") で行うのではなく、LLMの柔軟な理解力に頼ることで、表現ゆれや構造のばらつきを吸収できます。  
たとえば次のような処理を組みます。

1. ページのHTMLから本文テキストを抽出し、見出しや広告などは除外する
2. LLMにそのテキストを読ませ、チャレンジのタイトルや説明を抽出させる
3. あわせて「願望」と「日々の行動」という2つの観点に分けて整理させる

こうすることで、表現のフォーマットが一定でないブログ記事などからでも、意味のある行動提案を取り出しやすくなります。

従来のキーワード抽出や [ルールベース](https://ai-data-base.com/archives/26614 "ルールベース") の解析では難しかったような「曖昧な表現」「複数の文にまたがる記述」にも対応しやすくなる点が、LLMを活用する強みといえます。

### 似たもの同士をまとめるには

ウェブ上のチャレンジには、言い回しは違っていても、実質的に同じことを指しているものがたくさんあります。  
たとえば「毎日新しいレシピに挑戦する」と「毎日新しい料理を作ってみる」は、狙っている行動はかなり近いと考えられます。

このような重複を整理するために、次のような段階的な処理が推奨されます。

1. まずは明らかな重複を [ルールベース](https://ai-data-base.com/archives/26614 "ルールベース") で除去する
2. 残ったペアを意味ベクトルで比較し、類似度を計算する
3. 類似度が中程度のペアに対しては、LLMに確認させて「本当に同じか」を判断させる
4. 最終的に似ているもの同士をクラスタにまとめ、内容が充実しているものを代表として残す

ここでのポイントは、表面的な一致だけで判断しないことです。意味の近さに注目する処理を重ねることで、提案の幅は保ちつつ、無駄な繰り返しは避けることができます。

報告によると、今回この手順によって、当初1万件以上あったチャレンジ案は、最終的に3,500件ほどに絞り込まれました。

### 検索できる状態にする

最後の仕上げとして、抽出されたチャレンジを「検索できる」状態に整えます。  
ここでは、チャレンジの意味をベクトル表現（埋め込み）に変換し、それをインデックスとして登録します。

この工程は、前の重複除去フェーズで使ったベクトルを再利用することで、効率よく進めることができます。  
こうして構築されたChallengeDBが、あとでユーザーの入力に対して、意味ベースで最適なチャレンジを探し出すための基盤になります。

なお、これら一連の作業は、LLMを積極的に取り入れることで、わずか2週間で完了したとのことです。  
従来の [ルールベース](https://ai-data-base.com/archives/26614 "ルールベース") ＋人手で対応していたような設計では、何倍もの時間がかかっていたことを考えると、このワークフロー自体がLLM活用の好例といえるでしょう。

## ユーザーの願望にぴったりの提案を返すには

上述の工程で、チャレンジのデータベース（ChallengeDB）が整いました。ここからは、それをどう活用して、ユーザーの願望に沿った提案をその場で返すかという「検索のしくみ」について見ていきます。

習慣化アプリをつくるうえで、ユーザーが入力する目標や悩みはさまざまです。それに対して「今の気持ちにちょうどいい」と思えるような行動提案を出せるかどうかが、UXを大きく左右します。

### 願望を意味でとらえて探す

まず行うのは、ユーザーの入力を意味的に理解し、それに近いチャレンジをデータベースの中から探す処理です。

このとき、「キーワードが含まれているかどうか」だけを見るのではなく、「何を求めているのか」という意味そのものに注目するようにします。

たとえば、「最近エネルギーが落ち気味で…」という入力に対して、「朝の光を浴びて体内時計を整える」や「1日1杯、野菜ジュースを飲む」といった提案が出てくるような仕組みです。  
こうした柔軟なマッチングを可能にするのが、埋め込みモデルによる意味ベースの検索です。

検索の流れとしては次のようになります。

1. ユーザーの願望を埋め込みベクトルに変換する（text-embedding-3-largeを使用）
2. ChallengeDBにあるすべてのチャレンジのベクトルと比較し、意味的に近い上位のものを取り出す（コサイン類似度によるマッチング）

この工程により、表現のゆれや語彙の違いに左右されず、「意味が通じる」提案が届きやすくなります。

### 出てきた候補をさらに精査する

ベクトル検索だけでは、関連がありそうに見えるものが混ざってしまうこともあります。そこで、次に取り入れたいのが「再ランキング」の処理です。

この段階では、あらかじめ検索で拾った候補チャレンジの中から、「ユーザーの願望とより深くつながっていそうなもの」を上位に並べ直します。

再ランキングには今回bge-reranker-v2-m3というモデルが使われ、PineconeのAPIを通じてスコアを算出します。各チャレンジに含まれる「日々の行動」の説明と、ユーザーの入力とを照らし合わせて、どれだけマッチしているかを見ます。

結果として、「使えるけど順番がいまひとつ」という問題を減らし、より自然な提案順で提示できるようになります。

### LLMで最終チェックを入れる

候補の中には、関連性はあるように見えても、よく見ると「ユーザーの意図と食い違っている」ものが含まれることがあります。

たとえば、「朝スッキリ目覚めたい」という願望に対して、「30分早起きする」というチャレンジを返してしまうと、かえって疲れが増してしまうかもしれません。テーマ的には近くても、期待していた方向とはずれている場合です。

こうした食い違いを防ぐために、最終段階としてLLMによる検証を入れます。  
今回はGemini 2.0 Flash（API料金もかなり低めです）を使って、提案内容がユーザーの願望にちゃんと寄り添っているかどうかを文章レベルで評価します。

このステップは、とくに次のような場面で効果を発揮します。

- データベースに関連チャレンジが少ないとき、無理に似たものを出してしまうのを防ぐ
- 表面的な一致では見抜けない矛盾（例：「休みたい人に対してアクティブな行動を提案する」）を見つける

単なるスコアリングでは補いきれない部分を、LLMが自然言語での意図理解を通じて補完する形です。

### 検索 → 並べ替え → 最終確認 の三段構え

以上のように、「意味で探す」「順番を整える」「意図に沿ってるかを確認する」という三段階を通して、ユーザーにとって無理なく続けられそうな行動が届けられるように設計されています。

LLMを検索の周辺でも活かすことで、行動支援のアプリとしての信頼感や手触りも変わってきます。  
ユーザーに「ちゃんとわかってもらえてる」と感じてもらえるような提案づくりを考えるとき、この構成はひとつの参考になるはずです。

## うまく機能しているかをどう確かめるか

アプリやツールを作るとき、仕組みを作るだけで終わらせず、「それが本当に機能しているか」を検証する工程が欠かせません。以下では、今回研究者らがどのような基準で自らの仕組みを評価し、どんな結果が得られたのかを紹介します。

同様の構成を目指す方にとって、「どういう問いを立てて、どのように検証したか」という考え方そのものが参考になりそうです。

### システム全体はどう組み上がったか

まず、どれくらいの規模でデータを集め、どのように整理したのかを確認しておきましょう。

- 検索クエリはLLMを使って25種類作成
- それに基づいて集めたウェブページは約1.5万件
- フィルタリングによって絞り込まれた有望ページは953件
- ページから抽出したチャレンジ案は1.1万件以上
- 重複や類似を整理して、最終的に残ったユニークなチャレンジは3,531件

これだけの処理を、LLMの力を借りながら15分以内に完了しています。人手だけでやろうとすると数週間〜数ヶ月かかっても不思議ではない作業です。

では、このシステムが本当に役立つチャレンジを返してくれるのか、また、データをうまく整理できているのか。それぞれの観点から評価が行われました。

### 検索の精度を確かめるには

まず確認したいのが「ユーザーの願望に、ちゃんと合った提案が返ってくるかどうか」です。

#### どう評価したのか

1. 100件のユーザー願望を3段階の具体性で作成（例：「もっと元気に過ごしたい」から「毎朝2分のプランクを習慣にしたい」まで）
2. それぞれの願望に対してシステムが出した上位50件のチャレンジを人間がチェック
3. どれが「関連性が高く、実際に役立ちそうか」を手動でマークし、検索結果の良し悪しを評価

評価には、上位何件に正解が含まれているか（Hit@3など）や、全体の精度と [再現率](https://ai-data-base.com/archives/26095 "再現率") （Precision・Recall・F1）などが使われました。

#### わかったこと

- 一般的な願望にはかなり強く、Hit@3（上位3件の中に正解がある確率）が85%に達しました
- 願望が具体的になるほど、対応できるチャレンジが少なくなり精度が落ちる傾向もありました
- それでも、たとえば「プランクを2分できるようにしたい」といった高度な入力でも、約6割以上のケースで的確な提案を返せていました
- LLMによるフィルタリングを使うことで、意味的にずれている提案を除外し、全体の精度が向上しました

「ざっくりとした願望なら高精度」「ピンポイントのニーズにもある程度応えられる」、このバランスは、多くの実用アプリにとって参考になる部分ではないでしょうか。

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_89474_3.png)

検索性能の評価結果

### データ整理の手法はうまく機能しているか

続いては、チャレンジの重複除去や統合処理についての検証です。

#### どう評価したのか

精度については、除去されたチャレンジが本当に重複していたかどうかを100件ランダムにチェックして調べられました。そして再現率は重複していたはずのチャレンジをちゃんと見つけて除去できたかどうかを別の100件でチェックして測定されました。

比較対象として、以下のような手法とも比べています。

- 文字列の一致率だけを見る方法（MinHash）
- ベクトル類似度だけを使う方法
- LLMによる精査を入れない構成（アブレーションテスト）など

#### わかったこと

- LLMとベクトル類似、クラスタリングを組み合わせた方法で、精度93%、再現率85%を達成
- 他の手法（たとえばMinHash）は精度は高くても再現率が低く、結果として [F1スコア](https://ai-data-base.com/archives/26112 "F1スコア（F値）") で劣る
- LLMを挟むだけで、重複判断の精度は20%近く向上したケースもあり、特に中間的な類似度のペアに対して大きな効果を発揮した
- ページフィルタリングの工程も94%の精度を記録しており、初期の大量データから有用な情報だけを効率よく取り出す基盤がしっかりしていることが確認された

![](https://ai-data-base.com/wp-content/uploads/2025/05/AIDB_89474_4.png)

重複削除の性能評価結果

こうした評価の結果から、30日チャレンジは「良質な行動データを作り、意味ベースで提案できる」仕組みとして、実際のユースケースにも応用しやすい構成であることがわかりました。

類似の仕組みをつくる際も、このように「データの質」「提案の精度」「プロセス全体の再現性」という3点を意識して設計・検証を組み立てると、説得力のあるアプリケーションに近づけるかもしれません。

## まとめ

本記事では、LLMを活用して習慣形成を支援するアプリケーションの設計と実装を扱った研究を紹介しました。

検索クエリの自動生成から意味ベースの行動提案、重複排除まで、LLMの使い方に一貫性が見られます。

評価では、一般的な目標に対しては高精度な提案が可能である一方、細かい要望への対応には課題も残されています。チャレンジデータの構築工程も含め、既存手法と比較しながら丁寧に検証された点が特徴です。

ユーザーの行動を支えるアプリを企画する際に、検索・提案・整理といった各フェーズの参考材料として活用できそうです。

**参照文献情報**

- タイトル：30DayGen: Leveraging LLMs to Create a Content Corpus for Habit Formation
- URL： [https://doi.org/10.48550/arXiv.2505.02851](https://doi.org/10.48550/arXiv.2505.02851)
- 著者：Franklin Zhang, Sonya Zhang, Alon Halevy
- 所属：Bellevue College, Eastside Preparatory School, Google Cloud

**■サポートのお願い  
**AIDBを便利だと思っていただけた方に、任意の金額でサポートしていただけますと幸いです。  

  

[「人間とAIエージェントの協働」設計ガイド　考え方、LLM活用フレームワーク、応用事例](https://ai-data-base.com/archives/89432)

[マルチモーダルLLM活用で画像異常検知に「意味」を与え精度向上　見つけるだけで終わらせない](https://ai-data-base.com/archives/89515)

 [![](https://ai-data-base.com/wp-content/themes/innovate_hack_tcd025/img/footer/return_top.png) PAGE TOP](https://ai-data-base.com/archives/#header_top)