---
title: "LLMのマルチエージェントによる仮想通貨ポートフォリオ運用の自動化"
source: "https://ai-data-base.com/archives/81701"
author:
  - "[[AIDB Research]]"
published: 2025-01-07
created: 2025-06-13
description: "本記事では、仮想通貨投資の判断をAIで支援するシステムの研究を紹介します。仮想通貨投資では、膨大なデータの分析と深い推論が必要となるため、金融の専門家にとっても大きな負担となっています。"
tags:
  - "clippings"
---
**【お知らせ】** AIDB主催のビジネスマッチングイベントを7月25日(金)開催予定です！  
  

\---以下、記事本文---

本記事では、仮想通貨投資の判断をAIで支援するシステムの研究を紹介します。

仮想通貨投資では、膨大なデータの分析と深い推論が必要となるため、金融の専門家にとっても大きな負担となっています。深層学習技術を使った自動化の試みもありますが、判断の根拠が説明できないという問題があり、投資家は資金を預けることに慎重な姿勢を見せています。そんな中、LLMを活用した新しい手法が発表されました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701-1-1024x576.jpg)

5分位ポートフォリオの性能比較

**発表者情報**

- 研究者：Yichen Luo et al.
- 研究機関：ユニバーシティ・カレッジ・ロンドン、南洋理工大学、エクスポネンシャル・サイエンス財団

**LLMを活用した価格予測の関連研究**

- [LLMによるニュース報道の広がり分析を活用した株価変動予測手法](https://ai-data-base.com/archives/81516)
- [LLMによる時系列データ分析に「ニュース情報」を混ぜるアプローチ　為替予測精度など大幅に向上](https://ai-data-base.com/archives/79028)

## 背景

仮想通貨投資は比較的新しい分野で、株式などの従来の投資とは異なる難しさがあります。市場を分析するには、様々な種類の大量のデータを組み合わせて読み解く必要があり、金融の専門家でも大きな労力がかかります。そのため、投資のための専門サービスは数が限られており、利用料金も高くなりがちです。

深層学習技術を使えば市場分析を自動化できる可能性がありますが、なぜそのような判断に至ったのかが分かりにくいという問題があります。投資家は自分のお金を預ける際に、理由の説明できない判断には慎重にならざるを得ません。

これまで研究者たちは、仮想通貨の価格変動の仕組みを理解しようと取り組んできました。そして、ブロックチェーンのネットワーク上での活動の度合い・価格の勢い（モメンタム）・投資家の関心度などが、将来の価格変動を予測する手がかりになることが分かってきました。ニュースの論調（ポジティブかネガティブか）も、市場に大きな影響を与えることが明らかになっています。

最近では、LLMを投資に活用する研究が進んでいます。LLMは文章を理解し推論する能力が高いため、投資の判断に役立つと考えられています。ただし、1つのモデルだけでは予測の精度に限界があるため、最近は複数のモデルを組み合わせて使う方法が注目されています。例えば、あるモデルが情報を要約し、別のモデルが説明を生成し、さらに別のモデルが予測を行うといった具合です。

このような背景の中、今回研究者らは仮想通貨投資に特化した新しいシステムの開発に取り組みました。様々な種類の情報をそれぞれ専門に処理する複数のモデルを組み合わせ、協力して主要な仮想通貨への投資判断を行うという仕組みです。

## 提案手法

### 投資判断の目標設定

今回考案された手法において、投資判断には2つの大きな目標が設定されています。

1つ目は、仮想通貨と現金の配分比率を決定することです。市場全体の動きを予測し、それに基づいて仮想通貨への投資額を調整します。  
2つ目は、投資対象とする仮想通貨を選ぶことです。複数の指標を分析して、値上がりが期待される仮想通貨を選び出します。

両方の判断において、人間が理解できる形で根拠を説明することも求められます。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_1-1008x1024.jpg)

データの可視化例

### 処理の全体像

本システムは、大きく2つのモジュールで構成されます。

1つ目は「エキスパートトレーニング」と呼ばれるモジュールで、様々な種類のデータと投資文献を用いて専門家モデルを育成します。  
2つ目は「マルチエージェント投資」と呼ばれるモジュールで、リアルタイムのデータを使って実際の投資判断を行います。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_2-1024x502.jpg)

提案するマルチエージェントフレームワークの全体図（エージェントトレーニングとマルチエージェント投資の2つのモジュールを図示）

### エキスパートトレーニングについて

#### データチーム

データチームは様々な情報源からデータを収集し、分析しやすい形に整理します。

- Coingecko
- Blockchain.info
- Coin Metrics
- Cointelegraph

といったサービスから、価格データ、取引量、市場規模、ニュース記事などを取得します。

収集したデータは以下のように整理されます。

1. 価格データからは30日間の値動きを示すローソク足チャートが作られます。
2. また、様々な指標（リスクファクター）が計算され、「非常に低い」から「非常に高い」までの5段階で評価されます。
3. ニュース記事は見出しが収集され、市場の動向を読み取る材料として使われます。

#### 文献チーム

文献チームはGoogle Scholarから学術論文を収集します。

収集される論文は、仮想通貨の価格変動に関する研究に焦点を当てたものです。各データの種類（価格、取引量、ニュースなど）について、それがどのように価格に影響するかを分析した論文が集められます。

#### 説明チーム

説明チームは、データと学術論文の知見を組み合わせて、投資判断の説明を作成します。

市場全体の分析担当、ニュース分析担当、個別の仮想通貨分析担当、チャート分析担当がそれぞれの専門分野で説明を作成し、それらが1つの投資判断の説明としてまとめられます。

以下に説明チームを構成する各エージェントのプロンプトを示します。エキスパートトレーニングからマーケット予測まで、システム全体を通じて使用される重要な指示セットです。

System Instruction 1は基本的な説明生成の指示、Prompt 1-4は各専門分析の指示、System Instruction 2はファインチューニングの指示、そしてSystem Instruction 3とPrompt 5-6は実際の予測時の指示を定義しています。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_3-954x1024.png)

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_4-837x1024.png)

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_5-954x1024.png)

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_6-724x1024.jpg)

### 実際の投資判断プロセス

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_7-1024x342.jpg)

#### 市場チーム

市場チームは仮想通貨と現金の配分比率を決定します。

ニュースエキスパートと市場分析エキスパートが協力して市場の動向を予測します。両者の予測は確信度とともに示され、確信度に基づいて最終的な判断が下されます。市場が上昇すると予測された場合は全額を仮想通貨に投資し、下落が予測された場合は仮想通貨と現金を半々に分けます。

#### 仮想通貨チーム

仮想通貨チームは投資対象とする銘柄を選びます。

仮想通貨の指標を分析するエキスパートとチャートを分析するエキスパートが協力して各銘柄の値動きを予測します。市場チームから得られた市場全体の見通しも考慮に入れられます。全銘柄を上昇確率の高さで5グループに分け、最も確率の高いグループ（上位20%）に含まれる銘柄が投資対象として選ばれます。

#### 取引の実行

最終的な投資判断が確定すると、トレーディングチームが取引所のAPIを通じて実際の取引を行います。人手を介することなく、システムが自動的に取引を完了させる仕組みとなっています。

## 実験設定と評価方法

### 実験の基本設定

ベースとなるモデルとしてGPT-4が採用され、マルチモーダル（画像や文章など、様々な種類のデータを扱える）機能を備えたバージョンが使用されました。データ収集期間は2023年6月から2024年9月までで、2023年10月までのデータが学習用、それ以降のデータがテスト用として使われました。

分析対象となる仮想通貨は、CoinGeckoの時価総額ランキング上位30銘柄に限定されました。小規模な仮想通貨は価格変動が激しく分析が難しいため、対象から除外されています。対象銘柄は毎週更新され、その時点での上位30銘柄が選ばれました。

## 性能評価の詳細

### 予測精度の評価方法

システムの予測精度を評価するため、3種類の比較対象が用意されました。1つ目は、追加学習を行っていない単独のGPT-4です。2つ目は、すべての学習データを使って追加学習を行った単独のGPT-4です。3つ目は、従来の投資指標を使用する方法です。これらの手法とマルチエージェント方式の予測精度が比較されました。

### 投資成績の評価方法

投資成績の評価には、3つの基準が使われました。1つ目は単純に均等投資を行う方法（上位30銘柄に同額を投資）です。2つ目はNasdaq Crypto Indexと呼ばれる仮想通貨市場の指標です。3つ目はビットコインだけに投資し続ける方法です。

市場環境による違いを見るため、好況期と不況期に分けて評価が行われました。市場全体の価格が15%以上上昇した期間を好況期、15%以上下落した期間を不況期としています。

## 実験結果の分析

### 予測精度の評価結果

予測精度の評価では、マルチエージェント方式が最も良い成績を収めました。個別の仮想通貨の値動き予測では、専門分野ごとに学習したモデルを組み合わせる方が、1つのモデルですべてを予測するよりも高い精度を達成しました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_8-1024x247.jpg)

予測精度の比較表

市場全体の動きの予測では、指標分析による予測で最も高い精度が得られました。一方、ニュース分析による予測は単独のモデルの方が良い結果を示しました。総合的な判断には「マシューズ [相関係数](https://ai-data-base.com/archives/26481 "相関係数") 」という指標が用いられ、マルチエージェント方式が最も優れていることが確認されました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_9-1024x745.jpg)

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_10-1024x745.jpg)

予測確率の分布と不一致度

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_11-1024x383.png)

市場の上昇/下降予測の平均リターン

### 投資成績の分析結果

投資成績の評価では、2024年2月を除く全期間でマルチエージェント方式が他の手法を上回りました。市場全体が下落傾向にある時期でも、損失を最小限に抑えることができました。「非常に高い」上昇確率を示した銘柄グループは、実際に高い投資収益を上げることができました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_12-1024x1003.jpg)

累積リターンの時系列推移

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_13-1024x695.jpg)

期間別の性能比較

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_14-1-1024x610.png)

5分位ポートフォリオの性能比較

5分位ポートフォリオの性能比較

### 説明性能の評価結果

投資判断の説明性能は、5つの基準で評価されました。プロフェッショナリズム（金融の専門知識が正しく反映されているか）、客観性（中立的な視点で説明されているか）、明瞭性（説明が分かりやすいか）、整合性（データと説明に矛盾がないか）、論理性（判断の過程が論理的に説明されているか）です。

追加学習を行ったモデルは、整合性を除く全ての項目で、学習を行っていないモデルより高い評価を得ました。ただし、1つのモデルで全ての分析を行う場合、説明の整合性が低下する傾向が見られました。専門分野ごとにモデルを分けるマルチエージェント方式では、全ての評価項目で最も高い評価が得られました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_16-1024x1022.png)

ファインチューニング前後の説明例の比較

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_18.png)

説明品質の評価レーダーチャート

### システムの重要機能の分析

システムの各機能がどれだけ重要か調べるため、機能を1つずつ無効にして性能への影響を測定しました。評価結果から、以下の2つの協力関係が重要だと分かりました。

1つ目は「チーム内協力」です。同じ専門分野の中での意見交換により、予測の精度が向上しました。チーム内協力を無効にすると、投資収益や予測精度が低下しました。

2つ目は「チーム間協力」です。市場全体の分析結果を個別銘柄の分析に活用するなど、異なる専門分野間での情報共有が重要でした。チーム間協力を無効にすると、やはり投資成績が悪化しました。

![](https://ai-data-base.com/wp-content/uploads/2025/01/AIDB_81701_17-1024x216.png)

アブレーション実験結果

## まとめ

仮想通貨投資には3つの難しさがあります。1つ目は市場の歴史が浅いこと、2つ目は様々な種類の情報を分析する必要があること、3つ目は価格変動が大きいことです。LLMは投資判断の自動化に有望ですが、1つのモデルですべてを処理するには限界があります。

実験結果から、専門分野ごとに異なるモデルを用意し、それらを適切に組み合わせることで、より正確な予測と説得力のある説明が可能になることが示されました。市場の好況期も不況期も含めて、提案されたシステムは従来の手法を上回る投資成績を達成しました。

また、チーム内での意見調整とチーム間での情報共有という2つの協力メカニズムが、システムの性能向上に大きく貢献していることが明らかになりました。今回考案されたアプローチは、他の金融商品への応用や、より広範な投資判断の自動化にも活用できる可能性を秘めています。

**参照文献情報**

- タイトル：LLM-Powered Multi-Agent System for Automated Crypto Portfolio Management
- URL： [https://arxiv.org/abs/2501.00826](https://arxiv.org/abs/2501.00826)
- 著者：Yichen Luo, Yebo Feng, Jiahua Xu, Paolo Tasca, Yang Liu
- 所属：University College London, Nanyang Technological University, Exponential Science Foundation

## 理解度クイズ（β版）

1\. このシステムが採用したマルチエージェントアプローチの主な利点は何ですか？

専門分野ごとに異なるモデルを用意し連携させることで、より正確な予測と説得力のある説明が可能になりました。単一モデルで全てを処理する場合と比べて優れた性能を示しています。

解説を見る

2\. システムの投資判断における2つの主要な目標は何ですか？

システムは仮想通貨と現金の最適な配分比率を決定し、値上がりが期待される仮想通貨を選択します。これらの判断には人間が理解できる形での根拠説明も含まれています。

解説を見る

3\. データチームが収集・整理するデータの主な用途は何ですか？

データチームは価格データ、取引量、市場規模、ニュース記事などを収集し、分析可能な形に整理します。これらのデータは市場動向を読み取るための重要な材料として活用されます。

解説を見る

4\. このシステムの説明性能を評価する際の基準として含まれないものは？

システムの説明性能は、プロフェッショナリズム、客観性、明瞭性、整合性、論理性の5つの基準で評価されました。処理速度は説明性能の評価基準には含まれていません。

解説を見る

5\. システムの重要機能分析で明らかになった協力関係として、最も重要視されたものは？

システムの分析により、チーム内での意見交換（チーム内協力）と異なる専門分野間での情報共有（チーム間協力）が特に重要であることが判明しました。これらの協力関係が無効化されると、システムの性能が低下することが確認されています。

解説を見る

**■サポートのお願い  
**AIDBを便利だと思っていただけた方に、任意の金額でサポートしていただけますと幸いです。  

  

[LLMは個人の金銭管理を適切にサポートできるのか？](https://ai-data-base.com/archives/81597)

[産業界における生成AIガイドラインを網羅したデータセット登場](https://ai-data-base.com/archives/81818)

 [![](https://ai-data-base.com/wp-content/themes/innovate_hack_tcd025/img/footer/return_top.png) PAGE TOP](https://ai-data-base.com/archives/#header_top)